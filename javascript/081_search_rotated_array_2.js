
const searchRotatedArray = (arr, target) => {

  let left = 0;
  let right = arr.length - 1;
  let pivot;
  let rightSorted;

  while (left < right) {
    pivot = Math.floor((right-left)/2) + left;
    rightSorted = arr[pivot] <= arr[right] && arr[pivot] <= arr[pivot+1] && arr[pivot+1] <= arr[right];

    if (arr[pivot] === target) {
      return true;
    } else if (arr[pivot] < target) {
      if (!rightSorted) left = pivot + 1;
      else if (arr[right] < target) right = pivot - 1;
      else left = pivot + 1;
    } else {
      if (rightSorted) right = pivot - 1;
      else if (arr[left] > target) left = pivot + 1;
      else right = pivot - 1;
    }
  }

  return arr[left] === target;

};



// console.log(searchRotatedArray([2,5,6,0,0,1,2], 0)); // true
// console.log(searchRotatedArray([2,5,6,0,0,1,2], 3)); // false
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 0)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 1)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 2)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 3)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 4)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 5)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 6)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 7)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 8)); // true
// console.log(searchRotatedArray([2,3,4,5,6,6,6,6,6,6,6,7,8,0,0,1,2], 9)); // false
// console.log(searchRotatedArray([5,5,1,5],1)); // true
// console.log(searchRotatedArray([1,1,3,1],3)); // true
console.log(searchRotatedArray([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],2));
